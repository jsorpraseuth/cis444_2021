<!DOCTYPE html>
<html>
    <head>
		<link rel="shortcut icon" type="image/x-icon" href="static/favicon.ico" />
		<script src="static/toastr.js"></script>
		<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
		
		<style>
			body { 
				background-color: orange;
			}
			
			h1 {
				text-align: center;
				position: relative;
				border-style: solid;
				border-color: black;
				background: white;
			}

			.front {
				z-index: 100
			}
			
			#snow {
				background: none;
				background-image: url('static/pumpkin.png'), url('static/pumpkin2.png'), url('static/pumpkin3.png');
				height: 100%;
				left: 0;
				position: absolute;
				top: 0;
				width: 100%;
				z-index: 1;
				-webkit-animation: snow 1000s linear infinite;
				-moz-animation: snow 1000s linear infinite;
				-ms-animation: snow 1000s linear infinite;
				animation: snow 1000s linear infinite;
				-webkit-transform: translate3d(0,0,0);
				-moz-transform: translate3d(0,0,0);
				-ms-transform: translate3d(0,0,0);
				-o-transform: translate3d(0,0,0);
				transform: translate3d(0,0,0);
			}
			
			@keyframes snow {
			  0% {background-position: 0px 0px, 0px 0px, 0px 0px;}
			  100% {background-position: 50000px 50000px, 10000px 20000px, -10000px 15000px;}          
			}
			
			@-moz-keyframes snow {
			  0% {background-position: 0px 0px, 0px 0px, 0px 0px;}
			  100% {background-position: 50000px 50000px, 10000px 20000px, -10000px 15000px;}          
			}
			
			@-webkit-keyframes snow {
			  0% {background-position: 0px 0px, 0px 0px, 0px 0px;}
			  100% {background-position: 50000px 50000px, 10000px 20000px, -10000px 15000px;}          
			}
			
			@-ms-keyframes snow {
			  0% {background-position: 0px 0px, 0px 0px, 0px 0px;}
			  100% {background-position: 50000px 50000px, 10000px 20000px, -10000px 15000px;}          
			} 
			
			html {
				overflow: scroll;
				overflow-x: hidden;
			}
			::-webkit-scrollbar {
				width: 0;
				background: transparent;
			}
			
			.container {
				width: 100%;
				height: 100%;
				text-align: center;
				background-color: rgba(0,0,0,0.8);
			}

			.circle {
				stroke: #f8aa28;
				stroke-dasharray: 650;
				stroke-dashoffset: 650;
				-webkit-transition: all 0.5s ease-in-out;
				opacity: 0.3;
			}

			.playBut {
				/*  border: 1px solid red;*/
				display: inline-block;
				position: absolute;
				top: 30%;
				left: 50%;
				transform: translate(-50%, -50%);
				-ms-transform: translate(-50%, -50%);
				-webkit-transition: all 0.5s ease;
			}

			.playBut .triangle {
				-webkit-transition: all 0.7s ease-in-out;
				stroke-dasharray: 240;
				stroke-dashoffset: 480;
				stroke: #FFF;
				transform: translateY(0);
			}

			.playBut:hover .triangle {
				stroke-dashoffset: 0;
				opacity: 1;
				stroke: #f8aa28;
				animation: nudge 0.7s ease-in-out;
			}

			@keyframes nudge {
				0% {
				transform: translateX(0);
			  }
				30% {
				transform: translateX(-5px);
			  }
				50% {
				transform: translateX(5px);
			  }
				70% {
				transform: translateX(-2px);
			  }
				100% {
				transform: translateX(0);
			  }
			}

			.playBut:hover .circle {
				stroke-dashoffset: 0;
				opacity: 1;
			}
			
		</style>
    </head>
	
    <body>
		<script>
			setInterval( function() { $('#mytime').html("The client time is " + new Date()); }, 500);
		</script>
		
		<script>
			function off() {
                document.getElementById("overlay").style.display = "none";
                var audio = document.getElementById("spooky");
                audio.play();
            }
		</script>
		
		<script>
			var spooky = document.getElementById("spooky"); 
			if (window.addEventListener) {
				var kkeys = [], konami = "38,38,40,40,37,39,37,39,66,65";
				var triggered = false;
				window.addEventListener("keydown", function(e){
					kkeys.push( e.keyCode );
					if ( kkeys.toString().indexOf( konami ) >= 0 ) {
						if ( triggered == false ) {
							triggered = true;
							kkeys.length = 0;
							spooky.pause();
							$("body").append("<div><video class='centre' id='stormvind' autoplay controls loop width='window.innerWidth' height='window.innerHeight'><source src='stormvind.webm' type='video/webm'></video></div>");
							var video = document.getElementById("stormvind");
						} else if (triggered == true) {
							triggered = false;
							$("#stormvind").remove();
							spooky.play();
						}
					}
					while (kkeys.length >= konami.split(',').length) {
						kkeys.shift();
					}
				}, true);
			}
		</script>
		
		<div id="overlay" class="container" onclick="off()">
            <a href='#'class='playBut'>
                <svg version="1.1"
                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/"
                    x="0px" y="0px" width="213.7px" height="213.7px" viewBox="0 0 213.7 213.7" enable-background="new 0 0 213.7 213.7"
                    xml:space="preserve">

                    <polygon class='triangle' id="XMLID_18_" fill="none" stroke-width="7" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="
                        73.5,62.5 148.5,105.8 73.5,149.1 "/>

                    <circle class='circle' id="XMLID_17_" fill="none" stroke-width="7" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="106.8" cy="106.8" r="103.3"/>
                </svg>
            </a>
        </div>
		
		<!-- original https://www.youtube.com/watch?v=IpGxnVNsVNg -->
		<audio id="spooky" loop>
            <source src="static/spooky.mp3" type="audio/mpeg">
        </audio>
	
		<h1 class="front" id="mytime"></h1>
		<h1 class="front">The server time is {{server_time}}</h1>	
			
		<div id="snow"></div>
	    
    </body>
</html>
